# just displaying the first two trees here.
source('~/workspace/data-map/cascading-yelpdataset/src/main/resources/ml/R/XGBoostModel_Benchmark.R', echo=TRUE)
source('~/workspace/Tardigrade-AI-Learning-Hub/AILib/R/Untitled.R', echo=TRUE)
### Standard estimation of a logistic regression model.
SAheart <- read.table("http://www-stat.stanford.edu/~tibs/ElemStatLearn/datasets/SAheart.data",
sep = ",", head = TRUE, row.names = 1)
rm(list = ls())
##### install packages
#install.packages("Ckmeans.1d.dp")
#install.packages("DiagrammeR")
#devtools::install_github('dmlc/xgboost',subdir='R-package')
##### Preparation of the data
# https://github.com/dmlc/xgboost/blob/master/demo/kaggle-otto/otto_train_pred.R
# magrittr and data.table are here to make the code cleaner and much more rapid
require(data.table)
require(magrittr)
require(xgboost)
require(methods)
dataDir <- "/Users/feiyu/workspace/data-map/cascading-yelpdataset/src/main/resources/ml/dataset/kaggleotto/"
train <- fread(paste(dataDir, "train.csv", sep=""), header = T, stringsAsFactors = F)
test <- fread(paste(dataDir, "test.csv", sep=""), header=T, stringsAsFactors = F)
# Delete ID column in training dataset
train[, id := NULL]
#train = train[,-1]
# Delete ID column in testing dataset
test[, id := NULL]
#test = test[,-1]
# Check the content of the last column
#train[1:6, ncol(train), with  = F]
# Save the name of the last column
nameLastCol <- names(train)[ncol(train)]
# Convert from classes to numbers
y <- train[,ncol(train)]
y <- gsub('Class_','',y)
y <- as.integer(y)-1 #xgboost take features in [0,numOfClass)
y <- train[, nameLastCol, with = F][[1]] %>% gsub('Class_','',.) %>% {as.integer(.) -1}
y = train[,ncol(train)]
y = gsub('Class_','',y)
y = as.integer(y)-1 #xgboost take features in [0,numOfClass)
source('~/workspace/data-map/cascading-yelpdataset/src/main/resources/ml/R/XGBoostModel_Benchmark.R', echo=TRUE)
source('~/workspace/data-map/cascading-yelpdataset/src/main/resources/ml/R/XGBoost_YelpDataset.R', echo=TRUE)
source('~/workspace/data-map/cascading-yelpdataset/src/main/resources/ml/R/XGBoost_YelpDataset.R', echo=TRUE)
head(train)
dataDir <- "/Users/feiyu/workspace/data-map/cascading-yelpdataset/src/main/resources/ml/dataset/demodata/"
source('~/workspace/data-map/cascading-yelpdataset/src/main/resources/ml/R/XGBoost_YelpDataset.R', echo=TRUE)
